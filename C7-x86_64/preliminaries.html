<!DOCTYPE HTML>
<html lang="vi" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Preliminaries - Đắm mình vào hệ thống - Dive into Systems</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Home</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../copyright.html"><strong aria-hidden="true">1.1.</strong> Copyright</a></li><li class="chapter-item expanded "><a href="../acknowledgements.html"><strong aria-hidden="true">1.2.</strong> Acknowledgements</a></li><li class="chapter-item expanded "><a href="../preface.html"><strong aria-hidden="true">1.3.</strong> Preface</a></li></ol></li><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">2.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../C4-Binary/index.html"><strong aria-hidden="true">3.</strong> Binary and Data Representation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C4-Binary/bases.html"><strong aria-hidden="true">3.1.</strong> Number Bases and Unsigned Integers</a></li><li class="chapter-item expanded "><a href="../C4-Binary/conversion.html"><strong aria-hidden="true">3.2.</strong> Converting Between Bases</a></li><li class="chapter-item expanded "><a href="../C4-Binary/signed.html"><strong aria-hidden="true">3.3.</strong> Signed Binary Integers</a></li><li class="chapter-item expanded "><a href="../C4-Binary/arithmetic.html"><strong aria-hidden="true">3.4.</strong> Binary Integer Arithmetic</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C4-Binary/arithmetic_addition.html"><strong aria-hidden="true">3.4.1.</strong> Addition</a></li><li class="chapter-item expanded "><a href="../C4-Binary/arithmetic_subtraction.html"><strong aria-hidden="true">3.4.2.</strong> Subtraction</a></li><li class="chapter-item expanded "><a href="../C4-Binary/arithmetic_mult_div.html"><strong aria-hidden="true">3.4.3.</strong> Multiplication & Division</a></li></ol></li><li class="chapter-item expanded "><a href="../C4-Binary/overflow.html"><strong aria-hidden="true">3.5.</strong> Overflow</a></li><li class="chapter-item expanded "><a href="../C4-Binary/bitwise.html"><strong aria-hidden="true">3.6.</strong> Bitwise Operators</a></li><li class="chapter-item expanded "><a href="../C4-Binary/byte_order.html"><strong aria-hidden="true">3.7.</strong> Integer Byte Order</a></li><li class="chapter-item expanded "><a href="../C4-Binary/floating_point.html"><strong aria-hidden="true">3.8.</strong> Real Numbers in Binary</a></li><li class="chapter-item expanded "><a href="../C4-Binary/summary.html"><strong aria-hidden="true">3.9.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="../C5-Arch/index.html"><strong aria-hidden="true">4.</strong> What von Neumann Knew: Computer Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C5-Arch/hist.html"><strong aria-hidden="true">4.1.</strong> The Origins of Modern Computing</a></li><li class="chapter-item expanded "><a href="../C5-Arch/von.html"><strong aria-hidden="true">4.2.</strong> The von Neumann Architecture</a></li><li class="chapter-item expanded "><a href="../C5-Arch/gates.html"><strong aria-hidden="true">4.3.</strong> Logic Gates</a></li><li class="chapter-item expanded "><a href="../C5-Arch/circuits.html"><strong aria-hidden="true">4.4.</strong> Circuits</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C5-Arch/arithlogiccircs.html"><strong aria-hidden="true">4.4.1.</strong> Arithmetic and Logic Circuits</a></li><li class="chapter-item expanded "><a href="../C5-Arch/controlcircs.html"><strong aria-hidden="true">4.4.2.</strong> Control Circuits</a></li><li class="chapter-item expanded "><a href="../C5-Arch/storagecircs.html"><strong aria-hidden="true">4.4.3.</strong> Storage Circuits</a></li></ol></li><li class="chapter-item expanded "><a href="../C5-Arch/cpu.html"><strong aria-hidden="true">4.5.</strong> Building a Processor</a></li><li class="chapter-item expanded "><a href="../C5-Arch/instrexec.html"><strong aria-hidden="true">4.6.</strong> The Processor’s Execution of Program Instructions</a></li><li class="chapter-item expanded "><a href="../C5-Arch/pipelining.html"><strong aria-hidden="true">4.7.</strong> Pipelining Instruction Execution</a></li><li class="chapter-item expanded "><a href="../C5-Arch/pipelining_advanced.html"><strong aria-hidden="true">4.8.</strong> Advanced Pipelining Considerations</a></li><li class="chapter-item expanded "><a href="../C5-Arch/modern.html"><strong aria-hidden="true">4.9.</strong> Looking Ahead: CPUs Today</a></li><li class="chapter-item expanded "><a href="../C5-Arch/summary.html"><strong aria-hidden="true">4.10.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="../C6-asm_intro/index.html"><strong aria-hidden="true">5.</strong> Under the C: Dive into Assembly</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/index.html"><strong aria-hidden="true">6.</strong> -bit x86 Assembly</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C7-x86_64/basics.html"><strong aria-hidden="true">6.1.</strong> Assembly Basics</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/common.html"><strong aria-hidden="true">6.2.</strong> Common Instructions</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/arithmetic.html"><strong aria-hidden="true">6.3.</strong> Additional Arithmetic Instructions</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/conditional_control_loops.html"><strong aria-hidden="true">6.4.</strong> Conditional Control and Loops</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C7-x86_64/preliminaries.html" class="active"><strong aria-hidden="true">6.4.1.</strong> Preliminaries</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/if_statements.html"><strong aria-hidden="true">6.4.2.</strong> If Statements</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/loops.html"><strong aria-hidden="true">6.4.3.</strong> Loops</a></li></ol></li><li class="chapter-item expanded "><a href="../C7-x86_64/functions.html"><strong aria-hidden="true">6.5.</strong> Functions in Assembly</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/recursion.html"><strong aria-hidden="true">6.6.</strong> Recursion</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/arrays.html"><strong aria-hidden="true">6.7.</strong> Arrays in Assembly</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/matrices.html"><strong aria-hidden="true">6.8.</strong> Matrices in Assembly</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/structs.html"><strong aria-hidden="true">6.9.</strong> Structs in Assembly</a></li><li class="chapter-item expanded "><a href="../C7-x86_64/buffer_overflow.html"><strong aria-hidden="true">6.10.</strong> Buffer Overflows</a></li></ol></li><li class="chapter-item expanded "><a href="../C8-IA32/index.html"><strong aria-hidden="true">7.</strong> 64-bit x86 Assembly</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C8-IA32/basics.html"><strong aria-hidden="true">7.1.</strong> Assembly Basics</a></li><li class="chapter-item expanded "><a href="../C8-IA32/common.html"><strong aria-hidden="true">7.2.</strong> Common Instructions</a></li><li class="chapter-item expanded "><a href="../C8-IA32/arithmetic.html"><strong aria-hidden="true">7.3.</strong> Additional Arithmetic Instructions</a></li><li class="chapter-item expanded "><a href="../C8-IA32/conditional_control_loops.html"><strong aria-hidden="true">7.4.</strong> Conditional Control and Loops</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C8-IA32/preliminaries.html"><strong aria-hidden="true">7.4.1.</strong> Preliminaries</a></li><li class="chapter-item expanded "><a href="../C8-IA32/if_statements.html"><strong aria-hidden="true">7.4.2.</strong> If Statements</a></li><li class="chapter-item expanded "><a href="../C8-IA32/loops.html"><strong aria-hidden="true">7.4.3.</strong> Loops</a></li></ol></li><li class="chapter-item expanded "><a href="../C8-IA32/functions.html"><strong aria-hidden="true">7.5.</strong> Functions in Assembly</a></li><li class="chapter-item expanded "><a href="../C8-IA32/recursion.html"><strong aria-hidden="true">7.6.</strong> Recursion</a></li><li class="chapter-item expanded "><a href="../C8-IA32/arrays.html"><strong aria-hidden="true">7.7.</strong> Arrays in Assembly</a></li><li class="chapter-item expanded "><a href="../C8-IA32/matrices.html"><strong aria-hidden="true">7.8.</strong> Matrices in Assembly</a></li><li class="chapter-item expanded "><a href="../C8-IA32/structs.html"><strong aria-hidden="true">7.9.</strong> Structs in Assembly</a></li><li class="chapter-item expanded "><a href="../C8-IA32/buffer_overflow.html"><strong aria-hidden="true">7.10.</strong> Buffer Overflows</a></li></ol></li><li class="chapter-item expanded "><a href="../C9-ARM64/index.html"><strong aria-hidden="true">8.</strong> ARMv8 Assembly</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C9-ARM64/basics.html"><strong aria-hidden="true">8.1.</strong> Assembly Basics</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/common.html"><strong aria-hidden="true">8.2.</strong> Common Instructions</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/arithmetic.html"><strong aria-hidden="true">8.3.</strong> Arithmetic Instructions</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/conditional_control_loops.html"><strong aria-hidden="true">8.4.</strong> Conditional Control and Loops</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C9-ARM64/preliminaries.html"><strong aria-hidden="true">8.4.1.</strong> Preliminaries</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/if_statements.html"><strong aria-hidden="true">8.4.2.</strong> If Statements</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/loops.html"><strong aria-hidden="true">8.4.3.</strong> Loops</a></li></ol></li><li class="chapter-item expanded "><a href="../C9-ARM64/functions.html"><strong aria-hidden="true">8.5.</strong> Functions in Assembly</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/recursion.html"><strong aria-hidden="true">8.6.</strong> Recursion</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/arrays.html"><strong aria-hidden="true">8.7.</strong> Arrays in Assembly</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/matrices.html"><strong aria-hidden="true">8.8.</strong> Matrices in Assembly</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/structs.html"><strong aria-hidden="true">8.9.</strong> Structs in Assembly</a></li><li class="chapter-item expanded "><a href="../C9-ARM64/buffer_overflow.html"><strong aria-hidden="true">8.10.</strong> Buffer Overflows</a></li></ol></li><li class="chapter-item expanded "><a href="../C10-asm_takeaways/index.html"><strong aria-hidden="true">9.</strong> Key Assembly Takeaways</a></li><li class="chapter-item expanded "><a href="../C11-MemHierarchy/index.html"><strong aria-hidden="true">10.</strong> Storage and the Memory Hierarchy</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C11-MemHierarchy/mem_hierarchy.html"><strong aria-hidden="true">10.1.</strong> The Memory Hierarchy</a></li><li class="chapter-item expanded "><a href="../C11-MemHierarchy/devices.html"><strong aria-hidden="true">10.2.</strong> Storage Devices</a></li><li class="chapter-item expanded "><a href="../C11-MemHierarchy/locality.html"><strong aria-hidden="true">10.3.</strong> Locality</a></li><li class="chapter-item expanded "><a href="../C11-MemHierarchy/caching.html"><strong aria-hidden="true">10.4.</strong> Caching</a></li><li class="chapter-item expanded "><a href="../C11-MemHierarchy/cachegrind.html"><strong aria-hidden="true">10.5.</strong> Cache Analysis and Cachegrind</a></li><li class="chapter-item expanded "><a href="../C11-MemHierarchy/coherency.html"><strong aria-hidden="true">10.6.</strong> Looking Ahead: Caching on Multicore Processors</a></li><li class="chapter-item expanded "><a href="../C11-MemHierarchy/summary.html"><strong aria-hidden="true">10.7.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="../C12-CodeOpt/index.html"><strong aria-hidden="true">11.</strong> Code Optimization</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C12-CodeOpt/basic.html"><strong aria-hidden="true">11.1.</strong> First Steps</a></li><li class="chapter-item expanded "><a href="../C12-CodeOpt/loops_functions.html"><strong aria-hidden="true">11.2.</strong> Other Compiler Optimizations</a></li><li class="chapter-item expanded "><a href="../C12-CodeOpt/memory_considerations.html"><strong aria-hidden="true">11.3.</strong> Memory Considerations</a></li><li class="chapter-item expanded "><a href="../C12-CodeOpt/summary.html"><strong aria-hidden="true">11.4.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="../C13-OS/index.html"><strong aria-hidden="true">12.</strong> The Operating System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C13-OS/impl.html"><strong aria-hidden="true">12.1.</strong> Booting and Running</a></li><li class="chapter-item expanded "><a href="../C13-OS/processes.html"><strong aria-hidden="true">12.2.</strong> Processes</a></li><li class="chapter-item expanded "><a href="../C13-OS/vm.html"><strong aria-hidden="true">12.3.</strong> Virtual Memory</a></li><li class="chapter-item expanded "><a href="../C13-OS/ipc.html"><strong aria-hidden="true">12.4.</strong> Interprocess Communication</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C13-OS/ipc_signals.html"><strong aria-hidden="true">12.4.1.</strong> Signals</a></li><li class="chapter-item expanded "><a href="../C13-OS/ipc_msging.html"><strong aria-hidden="true">12.4.2.</strong> Message Passing</a></li><li class="chapter-item expanded "><a href="../C13-OS/ipc_shm.html"><strong aria-hidden="true">12.4.3.</strong> Shared Memory</a></li></ol></li><li class="chapter-item expanded "><a href="../C13-OS/advanced.html"><strong aria-hidden="true">12.5.</strong> Summary and Other OS Functionality</a></li></ol></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/index.html"><strong aria-hidden="true">13.</strong> Leveraging Shared Memory in the Multicore Era</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C14-SharedMemory/multicore.html"><strong aria-hidden="true">13.1.</strong> Programming Multicore Systems</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/posix.html"><strong aria-hidden="true">13.2.</strong> POSIX Threads</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/synchronization.html"><strong aria-hidden="true">13.3.</strong> Synchronizing Threads</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C14-SharedMemory/mutex.html"><strong aria-hidden="true">13.3.1.</strong> Mutual Exclusion</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/semaphores.html"><strong aria-hidden="true">13.3.2.</strong> Semaphores</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/other_syncs.html"><strong aria-hidden="true">13.3.3.</strong> Other Synchronization Constructs</a></li></ol></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/performance.html"><strong aria-hidden="true">13.4.</strong> Measuring Parallel Performance</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C14-SharedMemory/performance_basics.html"><strong aria-hidden="true">13.4.1.</strong> Parallel Performance Basics</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/performance_advanced.html"><strong aria-hidden="true">13.4.2.</strong> Advanced Topics</a></li></ol></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/cache_coherence.html"><strong aria-hidden="true">13.5.</strong> Cache Coherence</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/thread_safety.html"><strong aria-hidden="true">13.6.</strong> Thread Safety</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/openmp.html"><strong aria-hidden="true">13.7.</strong> Implicit Threading with OpenMP</a></li><li class="chapter-item expanded "><a href="../C14-SharedMemory/summary.html"><strong aria-hidden="true">13.8.</strong> Summary</a></li></ol></li><li class="chapter-item expanded "><a href="../C15-Parallel/index.html"><strong aria-hidden="true">14.</strong> Looking Ahead: Other Parallel Systems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../C15-Parallel/gpu.html"><strong aria-hidden="true">14.1.</strong> Hardware Acceleration and CUDA</a></li><li class="chapter-item expanded "><a href="../C15-Parallel/distrmem.html"><strong aria-hidden="true">14.2.</strong> Distributed Memory Systems</a></li><li class="chapter-item expanded "><a href="../C15-Parallel/cloud.html"><strong aria-hidden="true">14.3.</strong> To Exascale and Beyond</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Đắm mình vào hệ thống - Dive into Systems</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="741-kiến-thức-chuẩn-bị-preliminaries"><a class="header" href="#741-kiến-thức-chuẩn-bị-preliminaries">7.4.1. Kiến thức chuẩn bị (Preliminaries)</a></h3>
<h3 id="các-lệnh-so-sánh-có-điều-kiện-conditional-comparison-instructions"><a class="header" href="#các-lệnh-so-sánh-có-điều-kiện-conditional-comparison-instructions">Các lệnh so sánh có điều kiện (Conditional Comparison Instructions)</a></h3>
<p>Các <strong>comparison instruction</strong> (lệnh so sánh) thực hiện một phép toán số học nhằm phục vụ cho việc điều khiển thực thi có điều kiện của chương trình. <a href="#ConditionalControl">Bảng 1</a> liệt kê các lệnh cơ bản liên quan đến <strong>conditional control</strong> (điều khiển có điều kiện).</p>
<div class="table-wrapper"><table><thead><tr><th>Instruction</th><th>Translation</th></tr></thead><tbody>
<tr><td><code>cmp R1, R2</code></td><td>So sánh R2 với R1 (tức tính R2 - R1)</td></tr>
<tr><td><code>test R1, R2</code></td><td>Tính toán R1 &amp; R2 (bitwise AND)</td></tr>
</tbody></table>
</div>
<p><strong>Bảng 1.</strong> Các lệnh điều khiển có điều kiện.</p>
<p>Lệnh <code>cmp</code> so sánh giá trị của hai thanh ghi R2 và R1. Cụ thể, nó thực hiện phép trừ R1 khỏi R2.<br />
Lệnh <code>test</code> thực hiện phép <strong>bitwise AND</strong>. Một ví dụ thường gặp:</p>
<pre><code>test %rax, %rax
</code></pre>
<p>Trong ví dụ này, phép AND từng bit của <code>%rax</code> với chính nó sẽ cho kết quả bằng 0 <strong>chỉ khi</strong> <code>%rax</code> chứa giá trị 0. Nói cách khác, đây là cách kiểm tra giá trị zero và tương đương với:</p>
<pre><code>cmp $0, %rax
</code></pre>
<p>Không giống các lệnh số học đã đề cập trước đó, <code>cmp</code> và <code>test</code> <strong>không</strong> thay đổi thanh ghi đích. Thay vào đó, cả hai lệnh này thay đổi một tập hợp các giá trị 1-bit gọi là <strong>condition code flags</strong> (cờ mã điều kiện).<br />
Ví dụ, <code>cmp</code> sẽ thay đổi các cờ này dựa trên việc giá trị R2 - R1 là dương (greater), âm (less) hay bằng 0 (equal). Hãy nhớ rằng <a href="../C5-Arch/cpu.html#_the_alu">condition code</a> lưu trữ thông tin về một phép toán trong ALU. Các condition code flags là một phần của thanh ghi <code>FLAGS</code> trên hệ thống x86.</p>
<div class="table-wrapper"><table><thead><tr><th>Flag</th><th>Translation</th></tr></thead><tbody>
<tr><td><code>ZF</code></td><td>Bằng 0 (1: đúng; 0: sai)</td></tr>
<tr><td><code>SF</code></td><td>Âm (1: đúng; 0: sai)</td></tr>
<tr><td><code>OF</code></td><td>Xảy ra tràn số (1: đúng; 0: sai)</td></tr>
<tr><td><code>CF</code></td><td>Xảy ra carry trong phép toán (1: đúng; 0: sai)</td></tr>
</tbody></table>
</div>
<p><strong>Bảng 2.</strong> Các cờ condition code thông dụng.</p>
<p>Xét lại lệnh <code>cmp R1, R2</code>:</p>
<ul>
<li><code>ZF</code> được đặt thành 1 nếu R1 và R2 bằng nhau.</li>
<li><code>SF</code> được đặt thành 1 nếu R2 <em>nhỏ hơn</em> R1 (R2 - R1 cho kết quả âm).</li>
<li><code>OF</code> được đặt thành 1 nếu phép R2 - R1 gây tràn số nguyên (hữu ích cho so sánh số có dấu).</li>
<li><code>CF</code> được đặt thành 1 nếu phép R2 - R1 gây carry (hữu ích cho so sánh số không dấu).</li>
</ul>
<p><code>SF</code> và <code>OF</code> được dùng cho so sánh số nguyên có dấu, trong khi <code>CF</code> được dùng cho so sánh số nguyên không dấu.<br />
Mặc dù việc tìm hiểu sâu về condition code flags vượt ra ngoài phạm vi cuốn sách này, nhưng việc <code>cmp</code> và <code>test</code> thiết lập các cờ này là điều kiện cần để nhóm lệnh tiếp theo (<em>jump instructions</em>) hoạt động chính xác.</p>
<h3 id="các-lệnh-nhảy-jump-instructions"><a class="header" href="#các-lệnh-nhảy-jump-instructions">Các lệnh nhảy (Jump Instructions)</a></h3>
<p><strong>Jump instruction</strong> cho phép chương trình “nhảy” tới một vị trí mới trong mã lệnh. Trong các chương trình assembly mà ta đã phân tích, <code>%rip</code> luôn trỏ tới lệnh kế tiếp trong bộ nhớ chương trình. Lệnh nhảy cho phép <code>%rip</code> được đặt tới một lệnh mới chưa từng thực thi (như trong câu lệnh <code>if</code>) hoặc tới một lệnh đã thực thi trước đó (như trong vòng lặp).</p>
<h4 id="lệnh-nhảy-trực-tiếp-direct-jump-instructions"><a class="header" href="#lệnh-nhảy-trực-tiếp-direct-jump-instructions">Lệnh nhảy trực tiếp (Direct jump instructions)</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Instruction</th><th>Description</th></tr></thead><tbody>
<tr><td><code>jmp L</code></td><td>Nhảy tới vị trí được chỉ định bởi nhãn L</td></tr>
<tr><td><code>jmp *addr</code></td><td>Nhảy tới địa chỉ được chỉ định</td></tr>
</tbody></table>
</div>
<p><strong>Bảng 3.</strong> Các lệnh nhảy trực tiếp.</p>
<p>Trong đó, <code>L</code> là <strong>symbolic label</strong> (nhãn ký hiệu), đóng vai trò định danh trong tệp đối tượng của chương trình.<br />
Tất cả nhãn gồm một chuỗi chữ và số, theo sau là dấu hai chấm. Nhãn có thể là <em>local</em> hoặc <em>global</em> trong phạm vi tệp đối tượng. Nhãn của hàm thường là <em>global</em> và thường gồm tên hàm kèm dấu hai chấm, ví dụ <code>main:</code> (hoặc <code>&lt;main&gt;:</code>) dùng để đánh dấu hàm <code>main</code> do người dùng định nghĩa. Theo quy ước, nhãn <em>local</em> thường bắt đầu bằng dấu chấm, ví dụ <code>.L1</code> trong ngữ cảnh câu lệnh <code>if</code> hoặc vòng lặp.</p>
<p>Mỗi nhãn đều có một địa chỉ gắn liền. Khi CPU thực thi lệnh <code>jmp</code>, nó sẽ thay đổi <code>%rip</code> thành địa chỉ chương trình được chỉ định bởi nhãn <code>L</code>. Lập trình viên cũng có thể chỉ định trực tiếp một địa chỉ để nhảy tới bằng <code>jmp *</code>.<br />
Đôi khi, nhãn local được hiển thị dưới dạng offset so với đầu hàm. Ví dụ, một lệnh cách đầu hàm <code>main</code> 28 byte có thể được biểu diễn là <code>&lt;main+28&gt;</code>.</p>
<p>Ví dụ:<br />
<code>jmp 0x8048427 &lt;main+28&gt;</code> nghĩa là nhảy tới địa chỉ <code>0x8048427</code>, nhãn <code>&lt;main+28&gt;</code> cho biết nó cách địa chỉ bắt đầu của hàm <code>main</code> 28 byte. Thực thi lệnh này sẽ đặt <code>%rip</code> thành <code>0x8048427</code>.</p>
<h4 id="lệnh-nhảy-có-điều-kiện-conditional-jump-instructions"><a class="header" href="#lệnh-nhảy-có-điều-kiện-conditional-jump-instructions">Lệnh nhảy có điều kiện (Conditional jump instructions)</a></h4>
<p>Hành vi của <strong>conditional jump instruction</strong> phụ thuộc vào các thanh ghi condition code được thiết lập bởi lệnh <code>cmp</code>. <strong>Bảng 4</strong> liệt kê các lệnh nhảy có điều kiện thông dụng.<br />
Mỗi lệnh bắt đầu bằng chữ <code>j</code> (jump). Hậu tố của lệnh cho biết <em>điều kiện</em> để nhảy. Hậu tố này cũng xác định việc so sánh số được hiểu là có dấu hay không dấu.</p>
<div class="table-wrapper"><table><thead><tr><th>Signed Comparison</th><th>Unsigned Comparison</th><th>Description</th></tr></thead><tbody>
<tr><td><code>je</code> (<code>jz</code>)</td><td></td><td>Nhảy nếu bằng nhau (==) hoặc nếu zero</td></tr>
<tr><td><code>jne</code> (<code>jnz</code>)</td><td></td><td>Nhảy nếu không bằng (!=)</td></tr>
<tr><td><code>js</code></td><td></td><td>Nhảy nếu âm</td></tr>
<tr><td><code>jns</code></td><td></td><td>Nhảy nếu không âm</td></tr>
<tr><td><code>jg</code> (<code>jnle</code>)</td><td><code>ja</code> (<code>jnbe</code>)</td><td>Nhảy nếu lớn hơn (&gt;)</td></tr>
<tr><td><code>jge</code> (<code>jnl</code>)</td><td><code>jae</code> (<code>jnb</code>)</td><td>Nhảy nếu lớn hơn hoặc bằng (&gt;=)</td></tr>
<tr><td><code>jl</code> (<code>jnge</code>)</td><td><code>jb</code> (<code>jnae</code>)</td><td>Nhảy nếu nhỏ hơn (&lt;)</td></tr>
<tr><td><code>jle</code> (<code>jng</code>)</td><td><code>jbe</code> (<code>jna</code>)</td><td>Nhảy nếu nhỏ hơn hoặc bằng (&lt;=)</td></tr>
</tbody></table>
</div>
<p><strong>Bảng 4.</strong> Các lệnh nhảy có điều kiện thông dụng.</p>
<p><strong>Bảng 4.</strong> Các lệnh nhảy có điều kiện; các từ đồng nghĩa được hiển thị trong ngoặc đơn.</p>
<p>Thay vì ghi nhớ tất cả các lệnh nhảy có điều kiện khác nhau này, sẽ hữu ích hơn nếu bạn “đọc thành tiếng” các hậu tố (suffix) của lệnh. <a href="#JmpSuffixes">Bảng 5</a> liệt kê các chữ cái thường gặp trong lệnh nhảy và từ tương ứng của chúng.</p>
<div class="table-wrapper"><table><thead><tr><th>Letter</th><th>Word</th></tr></thead><tbody>
<tr><td><code>j</code></td><td>jump</td></tr>
<tr><td><code>n</code></td><td>not</td></tr>
<tr><td><code>e</code></td><td>equal</td></tr>
<tr><td><code>s</code></td><td>signed</td></tr>
<tr><td><code>g</code></td><td>greater (diễn giải theo số có dấu)</td></tr>
<tr><td><code>l</code></td><td>less (diễn giải theo số có dấu)</td></tr>
<tr><td><code>a</code></td><td>above (diễn giải theo số không dấu)</td></tr>
<tr><td><code>b</code></td><td>below (diễn giải theo số không dấu)</td></tr>
</tbody></table>
</div>
<p><strong>Bảng 5.</strong> Hậu tố của lệnh nhảy.</p>
<p>Khi đọc thành tiếng, ta có thể thấy <code>jg</code> tương ứng với <em>jump greater</em> và từ đồng nghĩa trong so sánh có dấu của nó là <code>jnl</code>, nghĩa là <em>jump not less</em>. Tương tự, phiên bản so sánh không dấu <code>ja</code> nghĩa là <em>jump above</em>, trong khi từ đồng nghĩa <code>jnbe</code> nghĩa là <em>jump not below or equal</em>.</p>
<p>Nếu bạn đọc thành tiếng các lệnh này, điều đó sẽ giúp giải thích tại sao một số từ đồng nghĩa lại tương ứng với những lệnh cụ thể. Một điều khác cần nhớ là các thuật ngữ <em>greater</em> và <em>less</em> yêu cầu CPU diễn giải phép so sánh số dưới dạng <strong>có dấu</strong>, trong khi <em>above</em> và <em>below</em> cho biết phép so sánh số là <strong>không dấu</strong>.</p>
<h3 id="câu-lệnh-goto"><a class="header" href="#câu-lệnh-goto">Câu lệnh <code>goto</code></a></h3>
<p>Trong các tiểu mục tiếp theo, chúng ta sẽ xem xét các câu lệnh điều kiện và vòng lặp trong assembly và phân tích ngược chúng trở lại thành C. Khi dịch mã assembly của các câu lệnh điều kiện và vòng lặp về C, sẽ hữu ích nếu hiểu được dạng <code>goto</code> tương ứng trong ngôn ngữ C.</p>
<p>Câu lệnh <code>goto</code> là một primitive trong C, buộc chương trình chuyển luồng thực thi sang một dòng khác trong mã. Lệnh assembly tương ứng với câu lệnh <code>goto</code> là <code>jmp</code>.</p>
<p>Câu lệnh <code>goto</code> bao gồm từ khóa <code>goto</code> theo sau là một <strong>goto label</strong> (nhãn goto), là một loại nhãn chương trình cho biết nơi thực thi sẽ tiếp tục. Ví dụ, <code>goto done</code> nghĩa là chương trình sẽ nhảy tới dòng được đánh dấu bằng nhãn <code>done</code>.</p>
<p>Các ví dụ khác về nhãn chương trình trong C bao gồm <a href="../C2-C_depth/advanced_switch.html#_c_switch_stmt_">nhãn của câu lệnh switch</a> đã được đề cập trong Chương 2.</p>
<table>
  <thead>
    <tr>
      <th>Regular C version</th>
      <th>Goto version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
<pre><code>
int getSmallest(int x, int y) {
    int smallest;
<pre><code>if ( x &gt; y ) { //if (conditional)
    smallest = y; //then statement
}
else {
    smallest = x; //else statement
}
return smallest;
</code></pre>
<p>}
</code></pre>
</td>
<td></p>
<pre><code>
int getSmallest(int x, int y) {
    int smallest;

    if (x &lt;= y ) { //if (!conditional)
        goto else_statement;
    }

    smallest = y; //then statement
    goto done;
else_statement:
    smallest = x; //else statement
done:
    return smallest;
}
</code></pre>
</tbody>
</table>
<p><strong>Bảng 6.</strong> So sánh một hàm C và dạng <code>goto</code> tương ứng.</p>
<p><strong>Bảng 6</strong> minh họa hàm <code>getSmallest()</code> được viết bằng C thông thường và dạng <code>goto</code> tương ứng trong C. Hàm <code>getSmallest()</code> so sánh giá trị của hai số nguyên (<code>x</code> và <code>y</code>), và gán giá trị nhỏ hơn cho biến <code>smallest</code>.</p>
<p>Dạng <code>goto</code> của hàm này có thể trông hơi phản trực giác, nhưng hãy phân tích chính xác điều gì đang diễn ra. Câu lệnh điều kiện kiểm tra xem biến <code>x</code> có nhỏ hơn hoặc bằng <code>y</code> hay không.</p>
<ul>
<li>
<p>Nếu <code>x</code> nhỏ hơn hoặc bằng <code>y</code>, chương trình sẽ chuyển quyền điều khiển tới nhãn <code>else_statement</code>, nơi chứa câu lệnh duy nhất <code>smallest = x</code>. Vì chương trình thực thi tuần tự, nó sẽ tiếp tục thực thi phần mã dưới nhãn <code>done</code>, trả về giá trị của <code>smallest</code> (<code>x</code>).</p>
</li>
<li>
<p>Nếu <code>x</code> lớn hơn <code>y</code>, <code>smallest</code> được gán giá trị <code>y</code>. Sau đó, chương trình thực thi câu lệnh <code>goto done</code>, chuyển quyền điều khiển tới nhãn <code>done</code>, trả về giá trị của <code>smallest</code> (<code>y</code>).</p>
</li>
</ul>
<p>Mặc dù câu lệnh <code>goto</code> từng được sử dụng phổ biến trong những ngày đầu của lập trình, nhưng việc sử dụng <code>goto</code> trong mã hiện đại được coi là <strong>thói quen xấu</strong>, vì nó làm giảm khả năng đọc hiểu của mã. Thực tế, nhà khoa học máy tính Edsger Dijkstra đã viết một bài báo nổi tiếng chỉ trích việc sử dụng <code>goto</code> với tiêu đề <em>Go To Statement Considered Harmful</em><sup class="footnote-reference"><a href="#1">1</a></sup>.</p>
<p>Nói chung, các chương trình C được thiết kế tốt sẽ không sử dụng <code>goto</code>, và lập trình viên được khuyến cáo tránh dùng để không viết ra mã khó đọc, khó gỡ lỗi và khó bảo trì. Tuy nhiên, câu lệnh <code>goto</code> trong C vẫn quan trọng để hiểu, vì GCC thường chuyển đổi mã C có điều kiện sang dạng <code>goto</code> trước khi dịch sang assembly, bao gồm cả mã chứa câu lệnh <code>if</code> và vòng lặp.</p>
<p>Các tiểu mục tiếp theo sẽ trình bày chi tiết hơn về cách biểu diễn câu lệnh <code>if</code> và vòng lặp trong assembly:</p>
<ul>
<li><a href="if_statements.html#_if_statements_in_assembly">If Statements</a></li>
<li>Loops</li>
</ul>
<h3 id="tài-liệu-tham-khảo"><a class="header" href="#tài-liệu-tham-khảo">Tài liệu tham khảo</a></h3>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>Edsger Dijkstra. &quot;Go To Statement Considered Harmful&quot;. <em>Communications of the ACM</em> 11(3), trang 147–148, 1968.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../C7-x86_64/conditional_control_loops.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../C7-x86_64/if_statements.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../C7-x86_64/conditional_control_loops.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../C7-x86_64/if_statements.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
