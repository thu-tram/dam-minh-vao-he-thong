
-   -   [11. Storage and the Memory
        Hierarchy](../C11-MemHierarchy/index.html){.nav-link}
        -   [11.1. The Memory
            Hierarchy](../C11-MemHierarchy/mem_hierarchy.html){.nav-link}
        -   [11.2. Storage
            Devices](../C11-MemHierarchy/devices.html){.nav-link}
        -   [11.3.
            Locality](../C11-MemHierarchy/locality.html){.nav-link}
        -   [11.4. Caching](../C11-MemHierarchy/caching.html){.nav-link}
        -   [11.5. Cache Analysis and
            Cachegrind](../C11-MemHierarchy/cachegrind.html){.nav-link}
        -   [11.6. Looking Ahead: Caching on Multicore
            Processors](../C11-MemHierarchy/coherency.html){.nav-link}
        -   [11.7. Summary](../C11-MemHierarchy/summary.html){.nav-link}
        -   [11.8.
            Exercises](../C11-MemHierarchy/exercises.html){.nav-link}

-   -   [12. Code Optimization](../C12-CodeOpt/index.html){.nav-link}
        -   [12.1. First Steps](../C12-CodeOpt/basic.html){.nav-link}
        -   [12.2. Other Compiler
            Optimizations](../C12-CodeOpt/loops_functions.html){.nav-link}
        -   [12.3. Memory
            Considerations](../C12-CodeOpt/memory_considerations.html){.nav-link}
        -   [12.4. Summary](../C12-CodeOpt/summary.html){.nav-link}

-   -   [13. The Operating System](../C13-OS/index.html){.nav-link}
        -   [13.1. Booting and Running](../C13-OS/impl.html){.nav-link}
        -   [13.2. Processes](../C13-OS/processes.html){.nav-link}
        -   [13.3. Virtual Memory](../C13-OS/vm.html){.nav-link}
        -   [13.4. Interprocess
            Communication](../C13-OS/ipc.html){.nav-link}
            -   [13.4.1. Signals](../C13-OS/ipc_signals.html){.nav-link}
            -   [13.4.2. Message
                Passing](../C13-OS/ipc_msging.html){.nav-link}
            -   [13.4.3. Shared
                Memory](../C13-OS/ipc_shm.html){.nav-link}
        -   [13.5. Summary and Other OS
            Functionality](../C13-OS/advanced.html){.nav-link}
        -   [13.6. Exercises](../C13-OS/exercises.html){.nav-link}

-   -   [14. Leveraging Shared Memory in the Multicore
        Era](../C14-SharedMemory/index.html){.nav-link}
        -   [14.1. Programming Multicore
            Systems](../C14-SharedMemory/multicore.html){.nav-link}
        -   [14.2. POSIX
            Threads](../C14-SharedMemory/posix.html){.nav-link}
        -   [14.3. Synchronizing
            Threads](../C14-SharedMemory/synchronization.html){.nav-link}
            -   [14.3.1. Mutual
                Exclusion](../C14-SharedMemory/mutex.html){.nav-link}
            -   [14.3.2.
                Semaphores](../C14-SharedMemory/semaphores.html){.nav-link}
            -   [14.3.3. Other Synchronization
                Constructs](../C14-SharedMemory/other_syncs.html){.nav-link}
        -   [14.4. Measuring Parallel
            Performance](../C14-SharedMemory/performance.html){.nav-link}
            -   [14.4.1. Parallel Performance
                Basics](../C14-SharedMemory/performance_basics.html){.nav-link}
            -   [14.4.2. Advanced
                Topics](../C14-SharedMemory/performance_advanced.html){.nav-link}
        -   [14.5. Cache
            Coherence](../C14-SharedMemory/cache_coherence.html){.nav-link}
        -   [14.6. Thread
            Safety](../C14-SharedMemory/thread_safety.html){.nav-link}
        -   [14.7. Implicit Threading with
            OpenMP](../C14-SharedMemory/openmp.html){.nav-link}
        -   [14.8. Summary](../C14-SharedMemory/summary.html){.nav-link}
        -   [14.9.
            Exercises](../C14-SharedMemory/exercises.html){.nav-link}

-   -   [15. Looking Ahead: Other Parallel
        Systems](../C15-Parallel/index.html){.nav-link}
        -   [15.1. Hardware Acceleration and
            CUDA](../C15-Parallel/gpu.html){.nav-link}
        -   [15.2. Distributed Memory
            Systems](../C15-Parallel/distrmem.html){.nav-link}
        -   [15.3. To Exascale and
            Beyond](../C15-Parallel/cloud.html){.nav-link}

-   -   [16. Appendix 1: Chapter 1 for Java
        Programmers](../Appendix1/index.html){.nav-link}
        -   [16.1. Getting Started Programming in
            C](../Appendix1/getting_started.html){.nav-link}
        -   [16.2. Input/Output (printf and
            scanf)](../Appendix1/input_output.html){.nav-link}
        -   [16.3. Conditionals and
            Loops](../Appendix1/conditionals.html){.nav-link}
        -   [16.4. Functions](../Appendix1/functions.html){.nav-link}
        -   [16.5. Arrays and
            Strings](../Appendix1/arrays_strings.html){.nav-link}
        -   [16.6. Structs](../Appendix1/structs.html){.nav-link}
        -   [16.7. Summary](../Appendix1/summary.html){.nav-link}
        -   [16.8. Exercises](../Appendix1/exercises.html){.nav-link}

-   -   [17. Appendix 2: Using Unix](index.html){.nav-link}
        -   [17.1. Unix Command Line and the Unix File
            System](cmdln_basics.html){.nav-link}
        -   [17.2. Man and the Unix Manual](man.html){.nav-link}
        -   [17.3. Remote Access](ssh_scp.html){.nav-link}
        -   [17.4. Unix Editors](editors.html){.nav-link}
        -   [17.5. make and Makefiles](makefiles.html){.nav-link}
        -   [17.6 Searching: grep and find](grep.html){.nav-link}
        -   [17.7 File Permissions](chmod.html){.nav-link}
        -   [17.8 Archiving and Compressing Files](tar.html){.nav-link}
        -   [17.9 Process Control](pskill.html){.nav-link}
        -   [17.10 Timing](timing.html){.nav-link}
        -   [17.11 Command History](history.html){.nav-link}
        -   [17.12 I/0 Redirection](ioredirect.html){.nav-link}
        -   [17.13 Pipes](pipe.html){.nav-link}
        -   [17.14 Dot Files and .bashrc](dotfiles.html){.nav-link}
        -   [17.15 Shell Programming](shellprog.html){.nav-link}
        -   [17.16 Getting System Information](sysinfo.html){.nav-link}



-   [Dive Into Systems](../index-2.html)
-   [17. Appendix 2: Using Unix](index.html)
-   [17.3. Remote Access](ssh_scp.html)
:::

::: content
::: sect1
## [](#_remote_access){.anchor}17.3. Remote Access {#_remote_access}

::: sectionbody
::: paragraph
Often times users want to remotely log into to Unix machines or copy
files from one machine to another. Secure Shell (SSH) is useful for
remotely logging into a Unix machine from another machine that running
Unix or running another operating systems like Windows and MacOS. And
Secure Copy (SCP) is useful for copying files from one system to
another.
:::

::: sect2
### [](#_remote_login){.anchor}17.3.1. Remote Login {#_remote_login}

::: paragraph
You can log into a remote Unix machine using the `ssh` command. `ssh`
provides encrypted communication between the host machine that you run
`ssh` from and the remote machine that you connected to.
:::

::: paragraph
To SSH into a remote machine, list the username on the remote machine
followed by the machine's Internet hostname. For example, if Sarita
wanted to remotely log into her `sarita` account on the machine `cs87`
on `cs.college.edu` network from her laptop, she would enter the
following command (to clarify which machine is executing each of these
commands, the `laptop$` prompt is the shell prompt on Sarita's laptop,
and the `cs87$` prompt is the shell prompt on the remote machine).
:::

::: listingblock
::: content
    laptop$ ssh sarita@cs87.cs.college.edu
:::
:::

::: paragraph
If successfully connected, the ssh server running on the remote machine
will ask the user to enter their password on that machine. Once
successfully remotely logged in, `ssh` starts a unix shell on the remote
machine through which the user can access files and run applications on
the remote system.
:::

::: listingblock
::: content
    laptop$ ssh sarita@cs87.cs.college.edu
    sarita@cs.college.edu's password:
    cs87$
:::
:::

::: sect3
#### [](#_remotely_connecting_with_ssh_from_non_unix_oss){.anchor}Remotely connecting with SSH from non-Unix OSs {#_remotely_connecting_with_ssh_from_non_unix_oss}

::: paragraph
To `ssh` into a Unix system from a non-Unix system you may need to first
install an SSH client on your machine, however it is likely already
installed. You then need a terminal window to run `ssh` On MacOS, open
and use the terminal application. On Windows machines, you can either
use PowerShell or install and use
[Putty](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html).
:::
:::
:::

::: sect2
### [](#_remote_file_copy){.anchor}17.3.2. Remote File Copy {#_remote_file_copy}

::: paragraph
If you want to transfer files to or from a machine on a remote system
you can use `scp` (secure copy). The `scp` command looks much like the
`cp` command except that one of either the source or the destination is
specified as a pathname on a remote machine. Like, `ssh`, `scp` requires
the user to type the password of the user on the remote machine to allow
access to the files being copied or from on the remote system. If `scp`
is successful, it displays some statistics about the file being copied
including the size of the file in bytes, the average transfer rate, and
the total transfer time.
:::

::: paragraph
For example, to copy the file named `prog.c` from your home machine to
the `sam` user on the `cs87.cs.college.edu` machine, you would type:
:::

::: listingblock
::: content
    # scp prog.c into home directory on cs87.cs.college.edu
    laptop$ scp prog.c sam@cs87.cs.college.edu:.
    sam@cs.college.edu's password:
    prog.c                  100%  282    56.4KB/s   00:00

    # scp prog.c into CS31 subdirectory on cs87.cs.college.edu
    laptop$ scp prog.c you@cslab.cs.college.edu:./CS31/.
    sam@cs.college.edu's password:
    prog.c                  100%  282    56.4KB/s   00:00
:::
:::

::: paragraph
You can also copy files from a remote machine to a local machine using
the remote path name as the source command line argument to `scp`. For
example, to copy a remote file `unix_notes/basics` from the `sarita`
user's files on the remote system to the current directory on your home
machine, do:
:::

::: listingblock
::: content
    laptop$ scp sarita@cs87.cs.college.edu:./unix_notes/basics ./
    sarita@cs.college.edu's password:
    basics                  100%   78   86.3KB/s   00:00
:::
:::

::: paragraph
If you want to transfer many files, it is useful to package them up into
a single archive file first. Then copy over the archive file, and unpack
it to get the set of files. In addition, compressing the file before
transfer will decrease the total transfer time. The `tar` utility is one
way to pack and unpack files, and `gzip` and `bzip2` are two examples of
file compression utilities. See [\[targzbz\]](#targzbz) for more
information on using `tar` and file compression.
:::

::: sidebarblock
::: content
::: title
Generating SSH Keys
:::

::: paragraph
For remotely connecting to a Linux machine, you don't need to generate
ssh keys; by default ssh uses your username and password on the remote
system you are connecting to for authentication. However, for some
websites, like GitHub, you may need to upload your public ssh key to its
web server to access some of its resources. `ssh` uses public-private
key encryption to encrypting data to be sent securely over a network
connection. The type of encryption ssh uses is known as asymmetric
encryption, where your private key on your host machine (the client) is
used to encrypt outgoing data that is sent over the network to a server,
and the server uses your public key to decrypt your message. The server
encrypts its response using your public key before sending it back to
you on the network, and when the ssh client receives the message it is
decrypted using your private key. In order to get this to work, you
first need to create an ssh public-private key pair, and then upload
your public key to the server (and keep your private key private on your
client machine).
:::

::: paragraph
To generate an ssh key, run `ssh-keygen -t rsa`. It will prompt you for
a key-location, which by default is in your `~/.ssh` directory, and ask
you to enter your passphrase for the ssh key you are generating:
:::

::: listingblock
::: content
    $ ssh-keygen -t rsa
    Generating public/private rsa key pair.
    ...
:::
:::

::: paragraph
If successful, this creates two new files in your `~/.ssh` directory:
:::

::: ulist
-   `id_rsa`: your private key (don't share this one)

-   `id_rsa.pub`: your public key (the one you can upload to web
    servers)
:::

::: paragraph
You can then copy and paste the contents of your `id_rsa.pub` file to
the web server that requires it.
:::

::: paragraph
You can also use this method to upload your public key to remote hosts
to connect using your key passphrase rather than your password.
:::
:::
:::
:::

::: sect2
### [](#_references){.anchor}17.3.3. References {#_references}

::: paragraph
For more information see:
:::

::: ulist
-   The man pages (e.g., `man ssh`)

-   [ssh basics](https://linuxhandbook.com/ssh-basics/) from
    linuxhandbook.com

-   [Putty](https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html)

-   [VNC Viewer](https://www.realvnc.com/en/connect/download/viewer/)
:::
:::
:::
:::

::: toc-menu
:::
:::
:::
:::

Copyright (C) 2020 Dive into Systems, LLC.

*Dive into Systems,* is licensed under the Creative Commons
[Attribution-NonCommercial-NoDerivatives 4.0
International](https://creativecommons.org/licenses/by-nc-nd/4.0/) (CC
BY-NC-ND 4.0).
