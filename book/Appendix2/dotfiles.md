
-   -   [11. Storage and the Memory
        Hierarchy](../C11-MemHierarchy/index.html){.nav-link}
        -   [11.1. The Memory
            Hierarchy](../C11-MemHierarchy/mem_hierarchy.html){.nav-link}
        -   [11.2. Storage
            Devices](../C11-MemHierarchy/devices.html){.nav-link}
        -   [11.3.
            Locality](../C11-MemHierarchy/locality.html){.nav-link}
        -   [11.4. Caching](../C11-MemHierarchy/caching.html){.nav-link}
        -   [11.5. Cache Analysis and
            Cachegrind](../C11-MemHierarchy/cachegrind.html){.nav-link}
        -   [11.6. Looking Ahead: Caching on Multicore
            Processors](../C11-MemHierarchy/coherency.html){.nav-link}
        -   [11.7. Summary](../C11-MemHierarchy/summary.html){.nav-link}
        -   [11.8.
            Exercises](../C11-MemHierarchy/exercises.html){.nav-link}

-   -   [12. Code Optimization](../C12-CodeOpt/index.html){.nav-link}
        -   [12.1. First Steps](../C12-CodeOpt/basic.html){.nav-link}
        -   [12.2. Other Compiler
            Optimizations](../C12-CodeOpt/loops_functions.html){.nav-link}
        -   [12.3. Memory
            Considerations](../C12-CodeOpt/memory_considerations.html){.nav-link}
        -   [12.4. Summary](../C12-CodeOpt/summary.html){.nav-link}

-   -   [13. The Operating System](../C13-OS/index.html){.nav-link}
        -   [13.1. Booting and Running](../C13-OS/impl.html){.nav-link}
        -   [13.2. Processes](../C13-OS/processes.html){.nav-link}
        -   [13.3. Virtual Memory](../C13-OS/vm.html){.nav-link}
        -   [13.4. Interprocess
            Communication](../C13-OS/ipc.html){.nav-link}
            -   [13.4.1. Signals](../C13-OS/ipc_signals.html){.nav-link}
            -   [13.4.2. Message
                Passing](../C13-OS/ipc_msging.html){.nav-link}
            -   [13.4.3. Shared
                Memory](../C13-OS/ipc_shm.html){.nav-link}
        -   [13.5. Summary and Other OS
            Functionality](../C13-OS/advanced.html){.nav-link}
        -   [13.6. Exercises](../C13-OS/exercises.html){.nav-link}

-   -   [14. Leveraging Shared Memory in the Multicore
        Era](../C14-SharedMemory/index.html){.nav-link}
        -   [14.1. Programming Multicore
            Systems](../C14-SharedMemory/multicore.html){.nav-link}
        -   [14.2. POSIX
            Threads](../C14-SharedMemory/posix.html){.nav-link}
        -   [14.3. Synchronizing
            Threads](../C14-SharedMemory/synchronization.html){.nav-link}
            -   [14.3.1. Mutual
                Exclusion](../C14-SharedMemory/mutex.html){.nav-link}
            -   [14.3.2.
                Semaphores](../C14-SharedMemory/semaphores.html){.nav-link}
            -   [14.3.3. Other Synchronization
                Constructs](../C14-SharedMemory/other_syncs.html){.nav-link}
        -   [14.4. Measuring Parallel
            Performance](../C14-SharedMemory/performance.html){.nav-link}
            -   [14.4.1. Parallel Performance
                Basics](../C14-SharedMemory/performance_basics.html){.nav-link}
            -   [14.4.2. Advanced
                Topics](../C14-SharedMemory/performance_advanced.html){.nav-link}
        -   [14.5. Cache
            Coherence](../C14-SharedMemory/cache_coherence.html){.nav-link}
        -   [14.6. Thread
            Safety](../C14-SharedMemory/thread_safety.html){.nav-link}
        -   [14.7. Implicit Threading with
            OpenMP](../C14-SharedMemory/openmp.html){.nav-link}
        -   [14.8. Summary](../C14-SharedMemory/summary.html){.nav-link}
        -   [14.9.
            Exercises](../C14-SharedMemory/exercises.html){.nav-link}

-   -   [15. Looking Ahead: Other Parallel
        Systems](../C15-Parallel/index.html){.nav-link}
        -   [15.1. Hardware Acceleration and
            CUDA](../C15-Parallel/gpu.html){.nav-link}
        -   [15.2. Distributed Memory
            Systems](../C15-Parallel/distrmem.html){.nav-link}
        -   [15.3. To Exascale and
            Beyond](../C15-Parallel/cloud.html){.nav-link}

-   -   [16. Appendix 1: Chapter 1 for Java
        Programmers](../Appendix1/index.html){.nav-link}
        -   [16.1. Getting Started Programming in
            C](../Appendix1/getting_started.html){.nav-link}
        -   [16.2. Input/Output (printf and
            scanf)](../Appendix1/input_output.html){.nav-link}
        -   [16.3. Conditionals and
            Loops](../Appendix1/conditionals.html){.nav-link}
        -   [16.4. Functions](../Appendix1/functions.html){.nav-link}
        -   [16.5. Arrays and
            Strings](../Appendix1/arrays_strings.html){.nav-link}
        -   [16.6. Structs](../Appendix1/structs.html){.nav-link}
        -   [16.7. Summary](../Appendix1/summary.html){.nav-link}
        -   [16.8. Exercises](../Appendix1/exercises.html){.nav-link}

-   -   [17. Appendix 2: Using Unix](index.html){.nav-link}
        -   [17.1. Unix Command Line and the Unix File
            System](cmdln_basics.html){.nav-link}
        -   [17.2. Man and the Unix Manual](man.html){.nav-link}
        -   [17.3. Remote Access](ssh_scp.html){.nav-link}
        -   [17.4. Unix Editors](editors.html){.nav-link}
        -   [17.5. make and Makefiles](makefiles.html){.nav-link}
        -   [17.6 Searching: grep and find](grep.html){.nav-link}
        -   [17.7 File Permissions](chmod.html){.nav-link}
        -   [17.8 Archiving and Compressing Files](tar.html){.nav-link}
        -   [17.9 Process Control](pskill.html){.nav-link}
        -   [17.10 Timing](timing.html){.nav-link}
        -   [17.11 Command History](history.html){.nav-link}
        -   [17.12 I/0 Redirection](ioredirect.html){.nav-link}
        -   [17.13 Pipes](pipe.html){.nav-link}
        -   [17.14 Dot Files and .bashrc](dotfiles.html){.nav-link}
        -   [17.15 Shell Programming](shellprog.html){.nav-link}
        -   [17.16 Getting System Information](sysinfo.html){.nav-link}



-   [Dive Into Systems](../index-2.html)
-   [17. Appendix 2: Using Unix](index.html)
-   [17.14 Dot Files and .bashrc](dotfiles.html)
:::

::: content
::: sect1
## [](#DotFiles){.anchor}17.14. Dot Files and .bashrc {#DotFiles}

::: sectionbody
::: paragraph
There are a number of dot files and dot directories in the Unix
filesystem. **Dot files** are files whose name starts with a `.`
character. These files are typically hidden because the `ls` command
does not list them by default. To view these hidden files, use the `-a`
command line argument to `ls`. For example:
:::

::: listingblock
::: content
    $ ls
    unix_notes/

    $ ls -a
      .   ..    .bashrc   .vimrc    .xsession  /unix_notes
:::
:::

::: paragraph
Two dot directories are always present in every directory: `.` is an
alias for the directory itself, and `..` is an alias to its parent
directory. As we saw in [Section
17.1](cmdln_basics.html#_unix_command_line_and_the_unix_file_system){.page},
`.` and `..` are often used in relative path names. For example, a
common use of `..` to move up one directory (to change the current
working directory to be the parent of the current directory):
:::

::: listingblock
::: content
    $ cd ..
:::
:::

::: paragraph
The `.` entry also commonly appears in commands that run an executable
file from the current directory by prefixing the command with `./` For
example, to run `a.out` in the current working directory, a user would
type the following:
:::

::: listingblock
::: content
    $ ./a.out
:::
:::

::: paragraph
Many dot files are configuration files (or directories of configuration
files) for different applications. These dot files contain
application-specific options that can change how the application
behaves. Application dot file contents are evaluated by a program when
it first starts up to configure its behavior. Many of these dot files
can be edited by a user to customize the behavior of the programs they
run. Here are a few examples of these types of dot files:
:::

::: ulist
-   `.bashrc`: a configuration file for the bash shell program set
    environment variables, define command aliases, ...​

-   `.vimrc`: a configuration for the vim editor define color and
    highlighting scheme, encoding, ...​

-   `.xsession`: \# a configuration file for the X Windows managers that
    are started after login on a terminal. set background color, define
    some default behavior start some applications, start a specific
    window manager (which has its own config dot files)
:::

::: sect2
### [](#bashrc){.anchor}17.14.1. The .bashrc File {#bashrc}

::: paragraph
Unix shell configuration files (e.g., `.bashrc` for the Bash shell)
contain entries that change the behavior of the shell. Typically a
system administrator sets up a default `.bashrc` file for the system.
However, individual users often want to customize their shell further,
and they can do so by editing the `.bashrc` in their home directory.
:::

::: {.admonitionblock .note}
+-----------------------------------+-----------------------------------+
|                                   | ::: paragraph                     |
|                                   | The shell reads the `.bashrc`     |
|                                   | file when it first starts up.     |
|                                   | Thus, changes to the `.bashrc`    |
|                                   | file do not take effect unless    |
|                                   | the user runs `source .bashrc` or |
|                                   | restarts `bash`.                  |
|                                   | :::                               |
+-----------------------------------+-----------------------------------+
:::

::: paragraph
Two common changes that users make are changing the definition of shell
environment variables and adding command aliases (a user's shorthand for
commands that they commonly run). **Shell environment variables** are
used by the shell to determine how certain shell features work. To list
all the environment variables, use the `env` command, or list the value
of a particular environment variable using `echo $env_var_name`. For
example:
:::

::: listingblock
::: content
    $ echo $GROUP    # list your default unix file group
    users

    $env             # list value of all env vars (a lot)
    SHELL=/bin/bash
    GROUP=users
    ...
    PATH=/usr/bin:/usr/local/bin:/bin
    ...
:::
:::

::: paragraph
The `PATH` environment variable is particularly interesting---​it lists
the set of directories in which the shell searches (in order) for
programs when the user enters a command at the shell prompt. For
example, given the definition of `PATH` shown above, if a user enter the
`ls` command, the shell will first look in the `/usr/bin` directory for
it (the shell looks for an executable file named `ls`) and runs it if
found. If `ls` is not found in `/usr/bin`, then the shell next looks in
`/usr/local/bin`, and if it is not found, it next look in `/bin`, and if
it is still not found, the shell prints out error message saying that
the `ls` command is not found. The `PATH` environment variable is the
reason why users do not need to list the full path name to common
commands, like `ls`, when they run them!
:::

::: paragraph
Because there may be multiple versions of the same program in different
locations, the order of the directory names in `$PATH` determines which
one is run. A user can see which version of a program they are running
using the `which` command. For example:
:::

::: listingblock
::: content
    $ which ls
    /usr/bin/ls
:::
:::

::: paragraph
Users can also redefine `PATH` in their `.bashrc` files to change the
order of the paths searched by Bash or to add additional search paths.
For example, if Sarita creates her own utility programs that she often
runs, she may want to put them in a directory named `mybin` in her home
directory and then update her `PATH` environment variable to include
this directory so that she can run them without listing their full path
name each time. She could do this by modifying the existing definition
of `PATH` in her `bashrc` file or by adding an additional definition of
`PATH` like the following:
:::

::: listingblock
::: content
    PATH=$PATH:/home/sarita/mybin
:::
:::

::: paragraph
This definition appends her `mybin` directory to the end of her existing
`PATH` environment variable (set `PATH` to the current value of `PATH`
with another path called `/home/sarita/mybin`).
:::

::: paragraph
When Sarita starts a new Bash shell, or if she types `source ~/.bashrc`
in a currently running Bash shell, her path will be updated to include
`/home/sarita/mybin/`.
:::

::: paragraph
Another common modification to a `.bashrc` file is to add shorthand
aliases for either commonly typed commands or commands that ensure they
are always run with specific command line options. A common example is
to alias the command `rm -i` to be `rm`. This ensures that anytime the
`rm` command is entered on the command line, the shell actually executes
`rm -i`, which prompts the user to confirm that they really want to
delete the file before removing it. Here is how to add this alias for
`rm` in a `.bashrc` file:
:::

::: listingblock
::: content
    alias rm="rm -i"      # add alias for rm to double check
:::
:::

::: paragraph
Similarly, if Sam is frequently running the command
`cd ~/classes/CS31/`, he may want to add a shorthand Bash alias for this
command to his `.bashrc` like this:
:::

::: listingblock
::: content
    alias gt31="cd ~/classes/CS31"  # goto (cd) into my CS31 directory
:::
:::

::: paragraph
Then Sam could start using these new aliases. For example:
:::

::: listingblock
::: content
    $ source ~/.bashrc    # source: make bash re-evaluate .bashrc file

    $ rm notes            # rm is now an alias for rm -i
    rm: remove regular file 'notes'? n
    $ ls
    classes/  letters/  notes  projects/

    $ rm notes
    rm: remove regular file 'notes'? y
    $ ls
    classes/  letters/  projects/

    $ gt31
    $ pwd
    /home/sam/classes/CS31
:::
:::
:::

::: sect2
### [](#_references){.anchor}17.14.2. References {#_references}

::: paragraph
For more information see:
:::

::: ulist
-   [Bash Reference
    Manual](https://www.gnu.org/software/bash/manual/html_node/index.html)
    from gnu.org.

-   [most used Unix
    commands](https://www.cheat-sheets.org/project/tldr/command/special-most-used-linux-commands/)
    from cheat-sheets.org
:::
:::
:::
:::

::: toc-menu
:::
:::
:::
:::

Copyright (C) 2020 Dive into Systems, LLC.

*Dive into Systems,* is licensed under the Creative Commons
[Attribution-NonCommercial-NoDerivatives 4.0
International](https://creativecommons.org/licenses/by-nc-nd/4.0/) (CC
BY-NC-ND 4.0).
